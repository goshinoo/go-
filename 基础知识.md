# 基础知识

#### 1.异或运算

**规则:**

位相同为0,不同为1

```go
46		1 0 1 1 1 0
0		0 0 0 0 0 0
--------------------
46		1 0 1 1 1 0


46		1 0 1 1 1 0
46		1 0 1 1 1 0
--------------------
0		0 0 0 0 0 0


46		1 0 1 1 1 0
53		1 1 0 1 0 1
--------------------
27		0 1 1 0 1 1
46		1 0 1 1 1 0
--------------------
53		1 1 0 1 0 1
```



**性质:**

1. 任何数和 00 做异或运算，结果仍然是原来的数，即 a^0=a。
2. 任何数和其自身做异或运算，结果是 00，即 a^a=0。
3. 异或运算满足交换律和结合律，即 a^b^a=b^a^a=b^(a^a)=b^0=b。



#### 2.约瑟夫环

**规则:**

已知n个人（以编号1，2，3...n分别表示）围坐在一张圆桌周围。从编号为1的人开始报数，数到m的那个人出列；他的下一个人又从1开始报数，数到m的那个人又出列；依此规律重复下去，直到圆桌周围的人全部出列。找到最后一个出列人的编号。

**性质:**

```go
func Josephus(n, m int) int {
	index := 0
	for i := 2; i < n; i++ {
		index = (index + m) % i
	}
    //编号
	return index+1
}
```



#### 3.KMP算法

**描述:**

从目标字符串中**快速**找到目标子串

**思想:**

找到子串中的公共前缀和后缀,实现在查找时快速定位下次匹配位置,减少匹配次数

```go
	0	1 	2	3	4	5	6	7	8	9	10	11	12
		A	B	A	B	A	A	A	B	A	B	A	A
NEXT	0	1	1	2	3	4	2	2	3	4	5	6

规律:NEXT数组中存放当前位置前 相同前后缀长度+1
```



#### 4.移位合并与拆解

```go
//2 3 => 131075
func Splice(zoneid uint16, hostId uint32) uint32 {
    //zoneid 只有16位,再左移16位会溢出
    //所以要先扩容到32位再移位
    //0000 0000 0000 0010 0000 0000 0000 0000 uint32(zoneid)<<16 = 131072
    //0000 0000 0000 0000 0000 0000 0000 0011 hostId = 3
    //----------------------------------------------- |(或运算)
    //0000 0000 0000 0010 0000 0000 0000 0011 = 131075
	return uint32(zoneid)<<16 | hostId
}

//131075 -> 2 3
func Split(hostId uint32) Pair {
    //First:
    //0000 0000 0000 0010 0000 0000 0000 0011 >> 16 (只取前16位)
    //----------------------------------------------
    //0000 0000 0000 0010 = 2
    //转换到16位uint保存
    
    //Second:
    //0000 0000 0000 0010 0000 0000 0000 0011 hostId = 131075
    //0000 0000 0000 0000 1111 1111 1111 1111 0x0000ffff = 65535
    //----------------------------------------------- &(与运算)
    //0000 0000 0000 0000 0000 0000 0000 0011 = 3
    return Pair{First: uint16(hostId >> 16), Second: hostId & 0x0000ffff}
}
```

**总结规律:**

`<<`:左移时需要考虑是否溢出,必要时扩大数据长度后再移位

`>>`:右移时也需要考虑是否溢出,移完数据后可以选择保存到合适的数据大小中

`|`:或运算在进行移位合并的操作时,作用是合并数据.利用遇1则1的特性,利用高位低位差将数据合并起来,注意两个数据之间的位不能有冲突.

`&`:与运算在进行移位合并的操作时,作用是拆分数据,利用遇0则0的特性,将想要取得的位数置为1后与原数据进行与运算就可以拿到对应位的数据.